# 🔐 CryptoCrate\n\n**Secure File Storage System with AES-256 Encryption**\n\nA robust command-line interface (CLI) application developed in Python for encrypting and decrypting local files using AES-256 encryption. This system ensures data confidentiality and integrity through strong encryption and hash-based verification.\n\n[![Python Version](https://img.shields.io/badge/python-3.6%2B-blue.svg)](https://python.org)\n[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)\n[![Security](https://img.shields.io/badge/encryption-AES--256-red.svg)](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard)\n\n## ✨ Features\n\n- **🔒 AES-256 Encryption**: Utilizes the `cryptography` library's Fernet implementation, which provides AES-256 encryption in CBC mode with a 128-bit IV and HMAC-SHA256 for authentication\n- **🔑 Automatic Key Management**: Generates and securely stores a unique encryption key (`storage.key`) upon first use\n- **📋 Metadata Storage**: Securely stores essential file metadata (original filename, encryption timestamp, original file SHA256 hash) in `metadata.json`\n- **🛡️ File Integrity Verification**: Prevents tampering by comparing SHA256 hashes of original and decrypted files\n- **💻 Simple CLI**: Easy-to-use command-line interface for encrypting, decrypting, and listing stored files\n- **📁 Organized Output**: Encrypted and decrypted files are neatly organized into separate directories\n\n## 📁 Project Structure\n\n```\n.\n├── cli_app.py              # Main CLI application\n├── file_encrypter.py       # Core encryption/decryption logic\n├── storage.key             # (Generated) AES encryption key - KEEP SECURE!\n├── metadata.json           # (Generated) File metadata storage\n├── encrypted_files/        # (Generated) Encrypted files directory\n└── decrypted_files/        # (Generated) Decrypted files directory\n```\n\n## 🚀 Getting Started\n\n### Prerequisites\n\n- Python 3.6 or higher\n- `cryptography` library\n\n### Installation\n\n1. **Clone the repository:**\n   ```bash\n   git clone https://github.com/your-username/cryptocrate.git\n   cd cryptocrate\n   ```\n\n2. **Install dependencies:**\n   ```bash\n   pip install cryptography\n   ```\n\n## 📖 Usage\n\nThe application is controlled via `cli_app.py` with various subcommands.\n\n### 🔐 Encrypting a File\n\nEncrypt any file using the `encrypt` command:\n\n```bash\npython cli_app.py encrypt path/to/your/document.txt\n```\n\n**What happens:**\n- Creates `encrypted_files/` directory (if it doesn't exist)\n- Saves encrypted file as `encrypted_files/document.txt.enc`\n- Generates `storage.key` file (if it doesn't exist) - **BACKUP THIS KEY!**\n- Adds metadata to `metadata.json`\n\n**Custom output directory:**\n```bash\npython cli_app.py encrypt my_secret_report.pdf --output-dir my_vault\n```\n\n### 🔓 Decrypting a File\n\nDecrypt an encrypted file using the `decrypt` command:\n\n```bash\npython cli_app.py decrypt encrypted_files/document.txt.enc\n```\n\n**What happens:**\n- Creates `decrypted_files/` directory (if it doesn't exist)\n- Saves decrypted file as `decrypted_files/document.txt`\n- Performs integrity check against original file hash\n- Notifies if tampering or corruption is detected\n\n**Custom output directory:**\n```bash\npython cli_app.py decrypt my_vault/my_secret_report.pdf.enc --output-dir retrieved_documents\n```\n\n### 📋 Listing Encrypted Files\n\nView all encrypted files and their metadata:\n\n```bash\npython cli_app.py list\n```\n\nDisplays:\n- Original filename\n- Encryption timestamp\n- Original SHA256 hash\n- Path to encrypted file\n\n## 🔒 Security Features\n\n### Encryption Details\n\nCryptoCrate uses **Fernet** from the `cryptography` library, which provides:\n\n- **AES-256 encryption** in CBC mode\n- **128-bit Initialization Vector (IV)** for each encryption\n- **HMAC-SHA256** for authentication\n- **URL-safe base64 encoding** for safe storage\n\n### Encryption Process\n\n1. **Key Generation**: 256-bit key generated and stored securely\n2. **IV Generation**: Unique IV created for each file\n3. **Encryption**: File encrypted using AES-256 CBC\n4. **Authentication**: HMAC-SHA256 generated over IV and ciphertext\n5. **Encoding**: Final token base64-encoded for storage\n\n### Integrity Verification\n\n- **Pre-encryption**: SHA256 hash calculated and stored in metadata\n- **Post-decryption**: Hash recalculated and compared with stored hash\n- **Tamper Detection**: Alerts if hashes don't match\n\n## ⚠️ Critical Security Notes\n\n### 🔑 Key Management\n\n> **WARNING**: The `storage.key` file is your master key!\n\n- **Keep it absolutely secure** - anyone with this key can decrypt all files\n- **Back it up** in a safe, separate location\n- **Never share it** with unauthorized parties\n- **If lost**, encrypted files cannot be recovered\n\n### 📋 Metadata Protection\n\n- `metadata.json` contains file information and hashes\n- Keep secure to maintain system integrity\n- Contains original filenames and encryption timestamps\n\n### 🛡️ Hash Verification\n\n- SHA256 hash calculated before encryption\n- Used to verify file integrity after decryption\n- Mismatch indicates corruption or tampering\n\n## 🔧 Technical Implementation\n\n### Fernet Token Structure\n\n```\n[Version][Timestamp][IV][Ciphertext][HMAC]\n    |         |       |       |        |\n    1 byte    8 bytes 16 bytes Variable 32 bytes\n```\n\n### Security Layers\n\n1. **Fernet Internal HMAC**: Prevents tampering with encrypted data\n2. **Application SHA256**: Verifies original file integrity\n3. **Key Isolation**: Master key stored separately from data\n4. **Metadata Verification**: Cross-references file information\n\n## 🤝 Contributing\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/amazing-feature`)\n3. Commit your changes (`git commit -m 'Add amazing feature'`)\n4. Push to the branch (`git push origin feature/amazing-feature`)\n5. Open a Pull Request\n\n## 📄 License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.\n\n## 🙏 Acknowledgments\n\n- Built with Python's [`cryptography`](https://cryptography.io/) library\n- Inspired by the need for simple, secure file encryption\n- Thanks to the open-source community for security best practices\n\n## 📞 Support\n\nIf you encounter any issues or have questions:\n\n1. Check the [Issues](https://github.com/your-username/cryptocrate/issues) page\n2. Create a new issue with detailed information\n3. Include error messages and system information\n\n---\n\n**⚡ Remember**: Security is only as strong as your weakest link. Keep your keys safe! 🔐

